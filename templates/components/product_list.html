<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/product_list.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/page_header.css') }}">
    <title>Product List</title>
</head>
<body>
    {% include 'components/page_header.html' %}

    <div class="container">
        <!-- Breadcrumb -->
        {% if category in book_categories %}
            <div class="breadcrumb">
                <a href="/">Home</a> / <a href="/books">Books</a> / <span>{{ category|title }}</span>
            </div>
        {% elif category in non_book_categories %}
            <div class="breadcrumb">
                <a href="/">Home</a> / <a href="/non_books">Non-Books</a> / <span>{{ category|title }}</span>
            </div>
        {% endif %}

        <!-- Main flex container for sidebar and content -->
        <div style="display: flex; gap: 32px;">
            <!-- Sidebar -->
            <div class="sidebar">
                {% if category in book_categories %}
                    <strong>PRICE</strong>
                    <div>
                        <label class="custom-checkbox">
                            <input type="checkbox" name="price" value="0-999.99">
                            <span class="checkmark"></span>
                            From ₱0 to ₱999.99
                        </label>
                        <label class="custom-checkbox">
                            <input type="checkbox" name="price" value="1000-1999.99">
                            <span class="checkmark"></span>
                            From ₱1,000 to ₱1,999.99
                        </label>
                        <label class="custom-checkbox">
                            <input type="checkbox" name="price" value="2000-above">
                            <span class="checkmark"></span>
                            From ₱2,000 and ABOVE
                        </label>
                    </div>
                    <strong style="margin-top:16px; display:block;">Product Language</strong>
                    <div>
                        <label class="custom-checkbox">
                            <input type="checkbox" name="language" value="english">
                            <span class="checkmark"></span>
                            English
                        </label>
                        <label class="custom-checkbox">
                            <input type="checkbox" name="language" value="filipino">
                            <span class="checkmark"></span>
                            Filipino
                        </label>
                    </div>

                {% elif category in non_book_categories %}
                    <h3 class="sidebar-title">Non-Books</h3>
                    <hr>
                    <div class="sidebar-section">
                        <h2 class="sidebar-category">Categories</h2>
                        <ul class="sidebar-sub-info">
                            <li><a href="/category/art-supplies">Drawing</a></li>
                            <li><a href="/category/calendars-and-planners">Painting</a></li>
                            <li><a href="/category/notebooks-and-journals">Support</a></li>
                        </ul>
                    </div>
                    <strong>PRICE</strong>
                    <div>
                        <label class="custom-checkbox">
                            <input type="checkbox" name="price" value="0-499.99">
                            <span class="checkmark"></span>
                            From ₱0 to ₱499.99
                        </label>
                        <label class="custom-checkbox">
                            <input type="checkbox" name="price" value="500-999.99">
                            <span class="checkmark"></span>
                            From ₱500 to ₱999.99
                        </label>
                        <label class="custom-checkbox">
                            <input type="checkbox" name="price" value="1000-above">
                            <span class="checkmark"></span>
                            From ₱1,000 and ABOVE
                        </label>
                    </div>
                {% endif %}
            </div>

            <!-- Main Product Content -->
            <div style="flex: 1;">
                <div class="product-grid">
                    {% for product in products %}
                    <div class="product-card">
                        <a href="{{ url_for('product_view', product_id=product['Product ID']) }}">
                            {% if category in book_categories %}
                                <img src="{{ product.image_path }}" alt="{{ product['Book Name'] }}" class="product-image">
                            {% else %}
                                <img src="{{ product.image_path }}" alt="{{ product['Product Name'] }}" class="product-image">
                            {% endif %}
                        </a>
                        <div class="product-info">
                            {% if category in book_categories %}
                                <h3 class="product-title">{{ product["Book Name"] }}</h3>
                                <p class="product-author">by {{ product["Author"] }}</p>
                            {% else %}
                                <h3 class="product-title">{{ product["Product Name"] }}</h3>
                            {% endif %}
                            <div class="product-price">₱{{ product["Price (PHP)"] }}</div>
                            <button class="btn-add-cart">Add to Cart</button>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>

    {% include 'components/page_footer.html' %}
</body>
</html>